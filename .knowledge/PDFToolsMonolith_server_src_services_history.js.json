{"is_source_file": true, "format": "JavaScript", "description": "This file defines functions to record and retrieve user file history in a database, managing entries such as file operations and their metadata.", "external_files": ["../db/pool.js"], "external_methods": ["query"], "published": ["recordFileHistory", "getUserHistory"], "classes": [], "methods": [{"name": "recordFileHistory(userId, fileName, operation, fileSize, downloadUrl, ttlHours)", "description": "Records a file operation (like upload, download, etc.) for a user, with optional expiration time based on TTL hours.", "scope": "", "scopeKind": ""}, {"name": "getUserHistory(userId, limit = 50)", "description": "Retrieves the latest file history records for a specific user, limited by the specified number.", "scope": "", "scopeKind": ""}], "calls": ["query"], "search-terms": ["recordFileHistory", "getUserHistory", "FileHistory", "user_id", "file_name", "expires_at"], "state": 2, "file_id": 22, "knowledge_revision": 44, "git_revision": "", "ctags": [{"_type": "tag", "name": "getUserHistory", "path": "/home/kavia/workspace/code-generation/pdf-tools-12948-12989/PDFToolsMonolith/server/src/services/history.js", "pattern": "/^export async function getUserHistory(userId, limit = 50) {$/", "language": "JavaScript", "kind": "function", "signature": "(userId, limit = 50)"}, {"_type": "tag", "name": "recordFileHistory", "path": "/home/kavia/workspace/code-generation/pdf-tools-12948-12989/PDFToolsMonolith/server/src/services/history.js", "pattern": "/^export async function recordFileHistory(userId, fileName, operation, fileSize, downloadUrl, ttlH/", "language": "JavaScript", "kind": "function", "signature": "(userId, fileName, operation, fileSize, downloadUrl, ttlHours)"}], "hash": "4425db3caefa8d46b3a58d976d87d2ff", "format-version": 4, "code-base-name": "PDFToolsMonolith", "filename": "PDFToolsMonolith/server/src/services/history.js", "revision_history": [{"44": ""}]}